<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Peace in 140 Characters</title>
    <link rel="stylesheet" type="text/css" href="style.css">
    <link href="https://fonts.googleapis.com/css?family=Lobster|Raleway" rel="stylesheet"> 
    <script src="https://d3js.org/d3.v3.min.js"></script>
	<script src="d3cloud.js"></script>
</head>
<body>
<h1>Peace in 140 Characters</h1>
<p>The Colombian Peace Process has been the response to the Colombian Conflict that has been occgirring over the last half century in the South American country. Starting with the formation of the Revolutionary Armed Forces of Colombia (FARC) in 1964, armed warfare has taken place between the Colombian government and several left-wing guerrilla groups such as FARC. In November of 2016, the Colombian Conflict was brought to a close with the passage of the Peace Accord. However, its path to ratification included a failed referendum where the electorate voted at 50.2% to reject the agreement and 49.8% to ratify it. Rather than facing a second referendum after its subsequent revision, the deal was sent to Congress where it was ratified by both houses. </p>
<p>Particularly given the lack of a second referendum to pass the accord, questions have been raised about how well the interests and wishes of the Colombian people were served during the peace process. This type of speculation relating to political actions is not unique. The conflict itself was long and complex, with a large number of parties and nuanced motives involved. Thus, understanding public sentiment and polarization over time as the events unfolded was a convoluted and perplexing endeavor. Particularly in politics, and where conflict and elections are involved, an accurate and detailed understanding of peopleâ€™s current thoughts can be incredibly valuable. This can help policymakers best cater to the needs and wishes of their constituents, keep governments accountable, give predictive power to election analysts, and illuminate particular regions or demographics whose values and opinions may vary from those of the majority. To these ends, a detailed visualization of population opinions is beneficial and useful in many political landscapes and timelines. This Colombian Peace Process visualization's data is from Twitter, a social media platform where people can share what they are feeling or thinking up to 140 characters at a time. </p>
<p>
This interactive visualization is comprised of three charts: quadrant plot of user sentiment (positive, negative) and user polarization (for or against referendum), hashtag trend timeline, and hashtag word cloud.  Note, the tweet text is in Spanish, thus so are portions of the visualization. The charts are interactive and can be filtered, using the following check boxes, by user gender and user location. We hope you enjoy this visualization and gain great insight!
</p>
<div id="checkboxes">
Gender</br>
<input type="checkbox" id="checkFemale" checked> <div id="plussymb"></div>  Female
<input type="checkbox" id="checkMale" checked> <div id="circlesymb"></div> Male
</br></br>Location<br>
<input type="checkbox" id="checkAntioquia" checked ><span style="color:#ffa69e"> Antioquia </span>
<input type="checkbox" id="checkBogota" checked><span style="color:#896978"> Bogota </span>
<input type="checkbox" id="checkCafetero" checked><span style="color:#b8f2e6"> Cafetero </span>
<input type="checkbox" id="checkCaribe" checked><span style="color:#62a87c"> Caribe </span>
<input type="checkbox" id="checkCentro" checked><span style="color:#9db4e0"> Centro </span>
<input type="checkbox" id="checkOriento" checked><span style="color:#e9d985"> Oriento </span>
<input type="checkbox" id="checkOtres" checked><span style="color:#084c61"> Otres </span>
<input type="checkbox" id="checkPacifica" checked><span style="color:#db504a"> Pacifica </span>
<input type="checkbox" id="checkOtro" checked><span style="color:#c4a9d8"> Otro </span>
</br></div>

<!-- load the d3.js library -->    
<script src="d3.v3/d3.v3.min.js"></script>

<div style='text-align:center;'>
	<div id="scatterplotChart" style="display:inline-block;" ></div>
	<div id="wordcloudChart" style="display:inline-block;"></div>
</div>
<div id="lineChart"></div>
<script src="lineChart.js" type="text/javascript"></script>
<script src="scatterPlot.js" type="text/javascript"></script>
<script src="main.js" type="text/javascript"></script>
<script src="wordcloud.js" type="text/javascript"></script>


<!-- <script src="cloud.js" type="text/javascript"></script>  -->
<h3>Target User</h3>
<p>The intended target users of this dataset are policy makers (particularly those involved in the Colombian Peace Process), the Colombian people, and anyone else genuinely interested in the Colombian political environment or general political sentiment. We did not have access to these users for feedback, but worked with Aastha Nigam and Henry, graduate students, and drew from our own interests in politics to design a visualization catering to our audience.</p>
<h3>Target Tasks</h3>
<ul>
<li>What location has the most positive sentiment?</li>
<li>What gender has the most positive polarity?</li>
<li>What location has the most similar polarization and polarity?</li>
<li>What are the common phrases/words used?</li>
<li>What are the trends between the locations?</li>
<li>What are the trends between the genders?</li>
</ul>
<h3>Elements of Design</h3>
<p>This visualization is compromised of three charts, that work together.  They are all controlled by one legend, that includes checkboxes for filtering on gender or location, as seen in Figure 1.  The mark used to encode gender is shown in the legend.  The color used to encode location is also shown in this legend. Combining the filterig and scatterplot legend simplifies the design and makes good use of space. </p>
<p style="text-align:center;"><figure><img src="img/legend.jpg"><figcaption>Figure 1</figcaption></figure></p>
<p>The scatterplot of polarity and sentiment in the main chart of the visualization, seen in Figure 2.  Each point on the chart was encoded with a strong mark, a point. The sentiment and polarity of the user was encoded by position on the x and y axes, respecctivly.  This was an approproate and effective way to encode qualitative values.  The gender and location are respectively encoded using shapes and divergent color hues.  These were effective choices for encoding the categorical attributes. Note, a cross and circle were chosen to represent females and males.  This differs from the original design of using cirlces and squares.  However, user feedback revealed that more diverse marks would lead to enhanced clarity.  Also, in response to feedback, axes labels were changed to for and against and positive and negative rather than polarity and sentiment.  These words mean more to the average person.<p>
<p style="text-align:center;"><figure><img src="img/scatterplot.jpg"><figcaption>Figure 2</figcaption></figure></p>
<p>If you notice, the scatterplot is densly populated.  We chose this plot because of user needs to visually identify clusters.  Thus, filtering was a rather important feature.  Figure 3 shows filtering in action. Note, the filtering also updates the word cloud and hashtag trend timeline. </p>
<p style="text-align:center;"><figure><img src="img/filteredscatter.jpg"><figcaption>Figure 3</figcaption></figure></p>
<p>Additional attrributes of each user are displayed on mouseover of the user's point. This was a useful feature as it allowed a lot of data to be show on demand. Also, cross hatching on mouseover allows for refined lookup of sentiment and polarity.  This is shown in Figure 4.</p>
<p style="text-align:center;"><figure><img src="img/crossnmouse.jpg"><figcaption>Figure 4</figcaption></figure></p>
<p>The next chart in the visualization is the word cloud, shown in Figure 5. The words in the cloud are all hashtags present in the tweet text. As customary for word clouds, the frequency of the hashtag is encoded by the size of the word. As prevously mentioned, the word cloud updates based on the visualizations filtering selections. Based on user feedback, the color encoding demonstrated in initial designs was deemed repeative and thus eliminated from the final design for simplicity. The word cloud is a useful addition to the visualization by giving meaning to the numeric sentiment and polarity scores. For instance, if the user has filtered to a realitively negative cluster, the word cloud will show the negative hashtags associated.</p>
<p style="text-align:center;"><figure><img src="img/cloud.jpeg"><figcaption>Figure 5</figcaption></figure></p>
<p>Lastly, the visualization features a timeline of the hashtags trends, shown in Figure 6. The ten hashtags were identified by the user as ten important ones that represent the Columbia Peace Process. The position of the line encodes the frequency of the hashtag on a particular date, as appropriate for line charts. The color of the line encodes the particular hashtag.  This divergent scale was an appropriate decision for categorical attributes.</p>
<p style="text-align:center;"><figure><img src="img/linechart.jpg"><figcaption>Figure 6</figcaption></figure></p>
<p>In addition to updating and rescaling due to filtering on the entire visualization, the line chart can also be filtered by removing line.  This is done by clicking the hashtag in the legend. The legend entry becomes grey if the line is not displayed.  This feature is shown in Figure 7. </p>
<p style="text-align:center;"><figure><img src="img/filteredlinechart.jpg"><figcaption>Figure 7</figcaption></figure></p>
<p>Mousover on the line chart displays a verticle marker and frequency counts for readability. As commented on in user studies, there is some congestion close to 0.  Unfortunately, we did not have time to correct this.</p>

<h3>Interesting Insights</h3>
<p><strong>Quadrant Plot</strong></p>
<ul>
<li>There is no apparent common polarity or sentiment based on gender alone.</li>
<li>When filtering on the location Pacifica, there are many that are strongly for and strongly against the accord.  However, there are a range from 0 to -1 in the two against quadrants.  This leads us to believe that something caused some who were strongly against, to start trending towards support of the accord.</li>
<li>When filtering on the location Antioquia or Cafetero, there is more positive sentiment.</li>
<li>Some regions, like Bogota, have a wide range of polarity and sentiment</li>

</ul>
<p><strong>Hashtag Trend Timeline</strong></p>
<ul>
<li>The hashtag #hagahistoriavoteno, which translates to 'Make History, Vote No' trended positivly with males on September 28th, while losing popularity with the female.  This hashtag was used to expresss negative attitudes and reject the accord.  Thus, it trending more negativly with males suggests there was a period of more negative sentiment among the male gender.</li>
</ul>
<p><strong>Hashtag Word Cloud</strong></p>
<ul>
<li>Trending hashtags are generally the same or similar for males and females, and location based. However, some regions have trending hashtags that are not immediately apparent when looking at the general population. None of the location specific hashtags are apparent on the hashtag trend timeline.</li>
<li>A few regions have "encartagenadecimosno" which roughly translate into "in cartagena we say no". You can see this in the Antioquia and Caribe region. A few other regions also have "sialapaz" as one of their most popular hashtag. Some other regions have more neutral terms like "acuerdodepaz" and slightly positive terms like "firmadelapaz" which means "peace agreement" and "sign the peace". Overall the most popular two hashtags of all locations and gender is neutral, "Colombia" and "farc".</li>
</ul>
<h3>Further Work</h3>
<p>There are a few known bugs or features that user studies indicated weaknesses that exist in this version. Given more time, we would like to address these bugs.  The known bugs are:</p>
<ul>
	<li>Mouseover in hashtag trend timeline shows values of inactive lines in the line chart.</li>
	<li>Mouseover is congested near 0 in the line chart.</li>
	<li>Mouseover in line chart shows only display values at actual dates and not derive values at intermediate points between dates.</li>
	<li>Overall, the visualization is slow to load.</li>
	<li>Mouseover in the scattterplot could be more responsive.</li>
</ul>
<p>In addition to fixing the know bugs, further work on this project is extensive, including:  </p>
<ul>
	<li>Increased user studies, particularly with spanish speakers.</li>
	<li>Generalization of code to work for any twitter data, not just that associated with the Columbia Peace Process</li>
	<li>Expansion of visualization into full featured workbench that encodes more of the data and elaborates on user demographics.</li>
	<li>Create enhanced user profile that allows you to view tweet text.</li>
</ul>
</body>
